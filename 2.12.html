<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/style.css">
    <title>2.12 Использование тестовых данных в рабочей среде</title>
</head>
<body>
    <h3>2.12 Использование тестовых данных в рабочей среде</h3>
<p>CWE: 531</p>

<p>При реализации электронной коммерции тестовые платежные методы и фиктивные данные карт обычно используются в тестовой или промежуточной средах, чтобы избежать отправки тестовых запросов в рабочие платежные API или банки. Разработчики часто забывают удалить код из рабочей среды, который должен быть доступен только в тестовой среде. В результате иногда можно изменить некоторые параметры в запросе, чтобы заставить рабочее приложение использовать тестовые данные.</p>

<p>Кроме того, приложение электронной коммерции может не отображать все свои платежные методы, особенно когда они не включены для конкретного пользователя или не полностью реализованы. Некоторые тестовые страницы, с помощью которых разработчики тестируют и отлаживают функциональность сторонних API, чтобы убедиться, что они работают правильно, также могут быть доступны на сайтах электронной коммерции. Эти отладочные функции и тестовые страницы могут поставить сайт под угрозу, если их обнаружит злоумышленник.</p>

<p>Следующий пример показывает эту уязвимость:
Сайт отправлял числовой тип платежа на сервер вместе с другими параметрами, необходимыми для завершения транзакции. Однако изменение типа платежа на другие числовые значения могло заставить приложение использовать тестовый платежный шлюз, который использовал тестовые счета для имитации рабочей среды. Это позволяло злоумышленнику завершить транзакцию, не тратя реальные деньги, просто подключив приложение к его тестовой среде.</p>

<p>Целевую страницу и все входные данные в платежном запросе следует изучить и протестировать, чтобы убедиться, что невозможно заставить рабочее приложение использовать тестовые данные. Например, иногда изменение заголовка "HOST" в HTTP-запросе на известное внутреннее имя хоста, используемое для тестирования, может вызвать эту уязвимость.</p>

<p>Кроме того, следует также протестировать тестовые данные, относящиеся к платежам, чтобы убедиться, что их невозможно использовать в рабочей среде. Например, в одном приложении можно было использовать тестовые данные карты Sage Pay [9] в реальной транзакции.</p>
</body>
</html>